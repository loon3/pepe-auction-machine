# ============================================
# Rare Pepe Auction Machine - Configuration
# ============================================
# Copy this file to .env and update with your settings:
# cp .env.example .env

# ============================================
# API Configuration
# ============================================

# API key for auction submission (REQUIRED)
# Generate a secure key: openssl rand -hex 32
API_KEY=your-secret-api-key-change-me

# ============================================
# Bitcoin Core RPC Configuration
# ============================================

# Bitcoin Core RPC host (use 'bitcoind' for Docker)
BITCOIN_RPC_HOST=bitcoind

# Bitcoin Core RPC port (default: 8332 for mainnet, 18332 for testnet)
BITCOIN_RPC_PORT=8332

# Bitcoin Core RPC username
BITCOIN_RPC_USER=your_rpc_username

# Bitcoin Core RPC password
BITCOIN_RPC_PASSWORD=your_rpc_password

# ============================================
# Counterparty Core API Configuration
# ============================================

# Counterparty Core REST API URL
# For Docker: http://counterparty:4000
# For local: http://127.0.0.1:4000
# For public API: https://api.counterparty.io:4000
COUNTERPARTY_API_URL=https://api.counterparty.io:4000

# ============================================
# Database Configuration
# ============================================

# SQLite database path (relative to project root)
DATABASE_PATH=./data/auctions.db

# ============================================
# Flask Configuration
# ============================================

# Flask environment (production or development)
FLASK_ENV=production

# Flask debug mode (true or false)
FLASK_DEBUG=false

# Flask host (0.0.0.0 for all interfaces, 127.0.0.1 for local only)
FLASK_HOST=0.0.0.0

# Flask port
FLASK_PORT=5000

# Flask secret key (optional, auto-generated if not set)
# SECRET_KEY=your-secret-key

# ============================================
# ZMQ Configuration (Bitcoin Core push notifications)
# ============================================

# Enable ZMQ for real-time block/tx notifications (recommended)
ZMQ_ENABLED=true

# ZMQ endpoint for raw block notifications
ZMQ_BLOCK_URL=tcp://bitcoind:9333

# ZMQ endpoint for raw transaction notifications
ZMQ_TX_URL=tcp://bitcoind:9332

# ============================================
# Background Monitoring Configuration
# ============================================

# Block monitor interval in seconds (fallback when ZMQ unavailable)
# Recommended: 300 seconds (5 minutes) since ZMQ provides real-time updates
BLOCK_MONITOR_INTERVAL=300

# UTXO monitor interval in seconds (fallback when ZMQ unavailable)
# Recommended: 300 seconds (5 minutes) since ZMQ provides real-time updates
UTXO_MONITOR_INTERVAL=300

# ============================================
# Example Configuration for Docker
# ============================================
# If running with docker-compose, use these settings:
#
# BITCOIN_RPC_HOST=bitcoind
# BITCOIN_RPC_PORT=8332
# BITCOIN_RPC_USER=rpcuser
# BITCOIN_RPC_PASSWORD=rpcpassword
# COUNTERPARTY_API_URL=http://counterparty:4000
# ZMQ_BLOCK_URL=tcp://bitcoind:9333
# ZMQ_TX_URL=tcp://bitcoind:9332
# DATABASE_PATH=/app/data/auctions.db

# ============================================
# Example Configuration for Local Development
# ============================================
# If running locally with Bitcoin/Counterparty on same machine:
#
# BITCOIN_RPC_HOST=127.0.0.1
# BITCOIN_RPC_PORT=8332
# BITCOIN_RPC_USER=your_username
# BITCOIN_RPC_PASSWORD=your_password
# COUNTERPARTY_API_URL=http://127.0.0.1:4000
# ZMQ_BLOCK_URL=tcp://127.0.0.1:9333
# ZMQ_TX_URL=tcp://127.0.0.1:9332
# DATABASE_PATH=./data/auctions.db

# ============================================
# Security Notes
# ============================================
# 1. NEVER commit the .env file to git
# 2. Keep your API_KEY secret and secure
# 3. Use strong passwords for RPC authentication
# 4. Regenerate API_KEY if compromised
# 5. For production, use FLASK_DEBUG=false
